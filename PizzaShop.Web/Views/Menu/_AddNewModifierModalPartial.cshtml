@model PizzaShop.Repository.ViewModels.ModifierSectionViewModel

<div class="modal fade" id="addModifierModalContainer" data-bs-backdrop="static" tabindex="-1" aria-hidden="true"
   data-bs-keyboard="false">
   <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
         <div class="modal-header text-muted">
            <h1 class="modal-title fs-5">Add New Modifier</h1>
            <button type="button" class="btn-close btn-close-" data-bs-dismiss="modal" aria-label="Close"></button>
         </div>

         <form id="addModifierForm" asp-action="AddModifier" asp-controller="Modifier" method="post">
            <div class="modal-body px-4">
               <div class="row">
                  <div class="col-12 col-xl-6 position-relative">
                     <div class="form-floating mb-3">
                        <div class="form-select   w-100 text-start " type="" id="modifierDropdownBtn"
                           data-bs-toggle="dropdown" aria-expanded="false">
                           Select Modifier Groups
                        </div>
                        <ul class="dropdown-menu w-100" aria-labelledby="modifierDropdownBtn">
                           <li class="p-2">
                              <input type="text" class="form-control form-control-sm" id="searchModifier"
                                 placeholder="Search...">
                           </li>
                           <li>
                              <hr class="dropdown-divider">
                           </li>
                           <div id="modifierCheckboxList" style="max-height: 200px; overflow-y: auto;">
                              @if (Model.Modifiergroups != null)
                              {
                                 @foreach (var modifierGroup in Model.Modifiergroups)
                                 { @if(modifierGroup != null){
                                    <li class="ms-2">
                                       <input type="checkbox" class="form-check-input me-2 modifier-checkbox"
                                          name="modifiercheckbox" value="@modifierGroup.ModifierGroupId"
                                          style="cursor: pointer;" id="@modifierGroup.ModifierGroupId">
                                       @modifierGroup.ModifierGroupName
                                    </li>
                                 }
                              }
                                                            }
                           </div>
                        </ul>
                        <label for="modifierDropdownBtn" style="background: none; pointer-events: none;">Modifier
                           Groups*</label>
                        <span asp-validation-for="ModifierGroupIds" class="text-danger"></span>
                        <!-- Validation error message -->
                     </div>
                  </div>
                  <div class=" col-12 col-xl-6">
                     <div class="form-floating mb-3">
                        <input asp-for="ModifierName" class="form-control form-control-sm" placeholder="Name*" />
                        <label asp-for="ModifierName"></label>
                        <span asp-validation-for="ModifierName" class="text-danger"></span>
                     </div>
                  </div>
               </div>

               <div class="row">
                  <div class="col-12 col-xl-4">
                     <div class="form-floating mb-3">
                        <input asp-for="Rate" class="form-control form-control-sm" placeholder="Rate*" />
                        <label asp-for="Rate"></label>
                        <span asp-validation-for="Rate" class="text-danger"></span>
                     </div>
                  </div>

                  <div class="col-12 col-xl-4">
                     <div class="form-floating mb-3">
                        <input asp-for="Quantity" class="form-control form-control-sm" placeholder="Quantity*" />
                        <label asp-for="Quantity"></label>
                        <span asp-validation-for="Quantity" class="text-danger"></span>
                     </div>
                  </div>

                  <div class="col-12 col-xl-4">
                     <div class="form-floating mb-3">
                        <select asp-for="Unitid" class="form-select form-control-sm">
                           <option value="">Select a unit</option>
                           @if (Model.Units != null)
                           {
                              @foreach (var unit in Model.Units)
                              {
                                 @if (unit != null)
                                 {
                                    <option value="@unit.Unitid">@unit.Unitname</option>
                                 }
                              }
                           }
                        </select>
                        <label asp-for="Unitid"></label>
                        <span asp-validation-for="Unitid" class="text-danger"></span>

                     </div>
                  </div>
               </div>

               <div class="mb-3">
                  <div class="form-floating">
                     <textarea asp-for="Description" class="form-control form-control-sm" placeholder="Description"
                        rows="3"></textarea>
                     <label asp-for="Description"></label>
                     <span asp-validation-for="Description" class="text-danger"></span>
                  </div>
               </div>
            </div>

            <div class="modal-footer">
               <button type="submit" class="btn btn-primary">Save</button>
               <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cancel</button>
            </div>
         </form>
      </div>
   </div>
</div>
